var locale,path,page,baseurl=window.location.origin,maps={};!function(t){var a=function(a,o={}){t.ajax({url:baseurl+"/inc/api/"+a+".php",type:"post",data:o,success:function(a){let o=JSON.parse(a);page=o.page,document.title=n(o.title),t("#content").html(o.content),l(),e()}})},e=function(){let a=t("[data-map]");t.when(a.length>0&&("function"==typeof L||t("head").append('<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css" />')&&t.ajax({url:"https://unpkg.com/leaflet@1.9.3/dist/leaflet.js",dataType:"script",cache:!0})),t.Deferred((function(a){t(a.resolve)}))).then((function(){a.each((function(){let a=self.crypto.randomUUID();t(this).attr("id",a),maps[a]=L.map(a,{center:[51.505,-.09],zoom:13,preferCanvas:!0,scrollWheelZoom:!1}),L.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:n("Â© %YEAR% airportmap.de")}).addTo(maps[a])}))}))},n=function(t=""){return t.replaceAll("%YEAR%",(new Date).getFullYear())},l=function(){t("[data-i18n]").each((function(){t(this).html(n(t(this).attr("data-i18n"))).removeAttr("data-i18n")})),t("[data-title]").each((function(){t(this).attr("title",n(t(this).attr("data-title"))).removeAttr("data-title")})),t("[data-placeholder]").each((function(){t(this).attr("placeholder",n(t(this).attr("data-placeholder"))).removeAttr("data-placeholder")})),t("[data-href]").each((function(){t(this).attr("href",baseurl+"/"+t(this).attr("data-href")).removeAttr("data-href")})),t("[data-nav]").removeClass("active"),t('[data-nav="'+page+'"]').addClass("active")};t(document).ready((function(){locale=t.cookie("locale")||"en-US",t("html").attr("lang",locale),function(){switch((path=window.location.pathname.split("/").filter((t=>t)))[0]){default:a("map");break}}()}))}(jQuery);